.error-boundary{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#1a1a1a 0%,#2a2a2a 100%);padding:20px;color:var(--text-primary, #ffffff)}.error-boundary-content{background:rgba(26,26,46,.95);backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(255,107,107,.3);border-radius:16px;padding:40px;max-width:600px;width:100%;box-shadow:0 8px 32px #0006;text-align:center;animation:slideUp .3s ease-out}.error-boundary-icon{font-size:4rem;margin-bottom:20px;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.error-boundary-title{font-size:1.75rem;font-weight:600;margin:0 0 16px;color:#ff6b6b}.error-boundary-message{font-size:1rem;color:var(--text-secondary, rgba(255, 255, 255, .7));margin:0 0 24px;line-height:1.6}.error-boundary-details{margin:24px 0;text-align:left;background:rgba(0,0,0,.3);border-radius:8px;padding:16px}.error-boundary-details summary{cursor:pointer;font-weight:500;color:var(--text-secondary, rgba(255, 255, 255, .7));margin-bottom:12px;user-select:none}.error-boundary-details summary:hover{color:var(--text-primary, #ffffff)}.error-boundary-stack{background:rgba(0,0,0,.5);border-radius:4px;padding:12px;font-size:.85rem;font-family:SF Mono,Monaco,Inconsolata,Fira Code,Droid Sans Mono,Courier New,monospace;font-display:swap;color:#ff6b6b;overflow-x:auto;white-space:pre-wrap;word-break:break-word;margin:0;max-height:300px;overflow-y:auto}.error-boundary-actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.error-boundary-button{padding:12px 24px;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);outline:none;min-width:120px}.error-boundary-button-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;box-shadow:0 4px 12px #667eea66}.error-boundary-button-primary:hover,.error-boundary-button-primary:focus{transform:translateY(-2px);box-shadow:0 6px 16px #667eea99}.error-boundary-button-primary:active{transform:translateY(0)}.error-boundary-button-secondary{background:rgba(255,255,255,.1);color:var(--text-primary, #ffffff);border:1px solid rgba(255,255,255,.2)}.error-boundary-button-secondary:hover,.error-boundary-button-secondary:focus{background:rgba(255,255,255,.2);border-color:#ffffff4d}.error-boundary-button:focus-visible{outline:2px solid #667eea;outline-offset:2px}@media (max-width: 768px){.error-boundary-content{padding:24px}.error-boundary-icon{font-size:3rem}.error-boundary-title{font-size:1.5rem}.error-boundary-message{font-size:.9rem}.error-boundary-button{padding:10px 20px;font-size:.9rem;min-width:100px}.error-boundary-stack{font-size:.75rem;max-height:200px}}.header{flex-shrink:0;height:70px;background:rgba(15,15,30,.8);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;padding:0 24px;position:relative;z-index:100;box-shadow:var(--shadow-sm)}.header:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:var(--gradient-primary);opacity:.5}.header-content{width:100%;max-width:1200px;display:flex;align-items:center;justify-content:space-between}.header-left{display:flex;align-items:center;gap:15px}.header-back-button{padding:10px 20px;background:var(--bg-glass);color:var(--text-primary);border:1px solid var(--border-color);border-radius:10px;cursor:pointer;font-size:.95rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1);white-space:nowrap;backdrop-filter:blur(10px);position:relative;overflow:hidden}.header-back-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);transition:left .3s;z-index:-1}.header-back-button:hover{border-color:var(--border-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.header-back-button:hover:before{left:0}.header-logo{font-size:1.5rem;font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:14px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative}.header-logo:hover{transform:scale(1.05)}.header-logo:after{content:"";position:absolute;bottom:-4px;left:0;width:0;height:2px;background:var(--gradient-primary);transition:width .3s}.header-logo:hover:after{width:100%}.header-logo img{height:44px;width:auto;display:block;object-fit:contain;filter:drop-shadow(0 2px 8px rgba(102,126,234,.3));transition:filter .3s}.header-logo:hover img{filter:drop-shadow(0 4px 12px rgba(102,126,234,.5))}.header-game-title{font-size:1.3rem;font-weight:600;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;letter-spacing:.5px}.header-nav{display:flex;gap:20px}.header-nav a,.header-nav-button{color:#fff;text-decoration:none;background:none;border:none;cursor:pointer;font-size:inherit;font-family:inherit;padding:0;transition:opacity .2s}.header-nav a:hover,.header-nav-button:hover{opacity:.7}.header-right{display:flex;align-items:center;gap:10px}.header-sound-button{padding:10px 14px;background:var(--bg-glass);color:var(--text-primary);border:1px solid var(--border-color);border-radius:10px;cursor:pointer;font-size:1.3rem;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;min-width:44px;height:44px;backdrop-filter:blur(10px);position:relative;overflow:hidden}.header-sound-button:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:var(--gradient-primary);transform:translate(-50%,-50%);transition:width .4s,height .4s;z-index:-1}.header-sound-button:hover{border-color:var(--border-hover);transform:translateY(-2px) scale(1.05);box-shadow:var(--shadow-glow)}.header-sound-button:hover:before{width:100px;height:100px}.header-sound-button:active{transform:translateY(0) scale(.98)}.language-selector{padding:8px 14px;border-radius:10px;border:1px solid var(--border-color);background:var(--bg-glass);color:var(--text-primary);cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(10px)}.language-selector:hover{border-color:var(--border-hover);background:rgba(102,126,234,.1);transform:translateY(-2px);box-shadow:var(--shadow-md)}.header-hamburger{display:none;flex-direction:column;justify-content:space-around;width:32px;height:32px;background:transparent;border:none;cursor:pointer;padding:0;z-index:101;position:relative}.hamburger-line{width:24px;height:2px;background:var(--text-primary);border-radius:2px;transition:all .3s cubic-bezier(.4,0,.2,1);transform-origin:center}.header-hamburger:hover .hamburger-line{background:var(--accent-primary)}.hamburger-line.active:nth-child(1){transform:translateY(8px) rotate(45deg)}.hamburger-line.active:nth-child(2){opacity:0;transform:scaleX(0)}.hamburger-line.active:nth-child(3){transform:translateY(-8px) rotate(-45deg)}@media (max-width: 768px){.header{height:50px;padding:0 10px}.header-left{gap:10px}.header-back-button{padding:6px 12px;font-size:.8rem}.header-logo{font-size:1.2rem}.header-logo img{height:30px}.header-game-title{font-size:.9rem;display:none}.header-nav{position:fixed;top:50px;left:0;right:0;background:rgba(15,15,30,.98);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid var(--border-color);flex-direction:column;gap:0;padding:0;max-height:0;overflow:hidden;transition:max-height .3s cubic-bezier(.4,0,.2,1);z-index:99;box-shadow:var(--shadow-lg)}.header-nav.mobile-open{max-height:300px}.header-nav-button{width:100%;padding:16px 20px;text-align:left;font-size:1rem;font-weight:500;color:var(--text-primary);border:none;background:transparent;border-bottom:1px solid rgba(255,255,255,.1);transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.header-nav-button:last-child{border-bottom:none}.header-nav-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:var(--gradient-primary);opacity:.1;transition:left .3s;z-index:-1}.header-nav-button:active:before{left:0}.header-nav-button:hover{background:rgba(102,126,234,.1);padding-left:24px}.header-right{gap:8px}.header-sound-button{padding:6px 10px;font-size:1rem;min-width:36px;height:32px}.header-hamburger{display:flex}.header-nav.mobile-open:before{content:"";position:fixed;inset:50px 0 0;background:rgba(0,0,0,.5);z-index:-1;animation:fadeIn .3s;pointer-events:auto}}.footer{flex-shrink:0;height:60px;background:rgba(15,15,30,.8);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-top:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;padding:0 24px;position:relative;box-shadow:0 -2px 8px #0003}.footer:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:var(--gradient-primary);opacity:.3}.footer-content{width:100%;max-width:1200px;display:flex;align-items:center;justify-content:space-between;position:relative;z-index:1}.footer-links{display:flex;gap:24px}.footer-link{color:var(--text-secondary);text-decoration:none;font-size:.9rem;font-weight:500;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;cursor:pointer;outline:none}.footer-link:after{content:"";position:absolute;bottom:-4px;left:0;width:0;height:2px;background:var(--gradient-primary);transition:width .3s}.footer-link:hover,.footer-link:focus{color:var(--text-primary);transform:translateY(-2px)}.footer-link:hover:after,.footer-link:focus:after{width:100%}.footer-link:focus-visible{outline:2px solid var(--gradient-primary);outline-offset:2px;border-radius:2px}.footer-center{display:flex;align-items:center;justify-content:center}.footer-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .2s ease-out}.footer-modal{background:rgba(26,26,46,.95);backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(102,126,234,.3);border-radius:16px;padding:0;max-width:600px;width:90%;max-height:80vh;overflow:hidden;box-shadow:0 8px 32px #0006;animation:slideUp .3s ease-out}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.footer-modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(102,126,234,.2)}.footer-modal-header h2{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-primary)}.footer-modal-close{background:transparent;border:none;color:var(--text-secondary);font-size:2rem;line-height:1;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s;outline:none}.footer-modal-close:hover,.footer-modal-close:focus{background:rgba(255,255,255,.1);color:var(--text-primary);transform:scale(1.1)}.footer-modal-close:focus-visible{outline:2px solid var(--gradient-primary);outline-offset:2px}.footer-modal-content{padding:24px;color:var(--text-secondary);line-height:1.6;overflow-y:auto;max-height:calc(80vh - 100px)}.footer-modal-content p{margin:0 0 16px}.footer-modal-content p:last-child{margin-bottom:0}.footer-modal-section{margin-bottom:24px}.footer-modal-section:last-child{margin-bottom:0}.footer-modal-section h3{margin:0 0 12px;font-size:1.1rem;font-weight:600;color:var(--text-primary, #ffffff)}.footer-modal-section p{margin:0;color:var(--text-secondary, rgba(255, 255, 255, .7));line-height:1.8}.footer-copyright{color:var(--text-tertiary);font-size:.85rem;font-weight:500}@media (max-width: 768px){.footer{height:auto;min-height:40px;padding:10px;font-size:.8rem}.footer-content{flex-direction:column;gap:8px;align-items:center}.footer-links{gap:16px;order:1}.footer-center{order:2}.footer-copyright{order:3;font-size:.75rem;text-align:center}.footer-modal{width:95%;max-height:90vh}.footer-modal-header{padding:16px}.footer-modal-header h2{font-size:1.25rem}.footer-modal-content{padding:16px;font-size:.9rem}}.game-container{flex:1;display:flex;align-items:center;justify-content:center;background:#2a2a2a;overflow:hidden;min-height:0;position:relative}.screen-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(26,26,26,.75);backdrop-filter:blur(1px);z-index:10;overflow-y:auto;pointer-events:auto}.screen-overlay:has(.menu-screen){background:rgba(26,26,26,.9)}.screen-overlay:has(.stage-select-screen){background:rgba(26,26,26,.6)}.screen-overlay>*{pointer-events:auto;width:100%;height:100%}@media (max-width: 768px){.game-container{padding:10px}}.game-canvas-wrapper{width:100%;height:100%;max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center;position:relative;will-change:transform;transform:translateZ(0);-webkit-transform:translate3d(0,0,0)}.game-canvas{display:block;max-width:1200px;max-height:675px;width:100%;height:auto;aspect-ratio:16 / 9;object-fit:contain;background:#2a2a2a;border:1px solid #444;box-shadow:0 4px 20px #00000080;will-change:contents;transform:translateZ(0);-webkit-transform:translateZ(0);backface-visibility:hidden;-webkit-backface-visibility:hidden;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;image-rendering:pixelated}@media (max-width: 1200px){.game-canvas{max-width:100%;max-height:100%}}.game-canvas-error{display:flex;align-items:center;justify-content:center;width:100%;height:100%;min-height:400px;background:rgba(26,26,46,.95);border:1px solid rgba(255,107,107,.3);border-radius:16px;padding:40px}.game-canvas-error-content{text-align:center;color:var(--text-primary, #ffffff);max-width:500px}.game-canvas-error-icon{font-size:4rem;margin-bottom:20px}.game-canvas-error h3{font-size:1.5rem;font-weight:600;margin:0 0 16px;color:#ff6b6b}.game-canvas-error p{font-size:1rem;color:var(--text-secondary, rgba(255, 255, 255, .7));margin:0 0 24px;line-height:1.6}.game-canvas-error-button{padding:12px 24px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #667eea66}.game-canvas-error-button:hover{transform:translateY(-2px);box-shadow:0 6px 16px #667eea99}.game-canvas-error-button:active{transform:translateY(0)}.game-board{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.rotate-message{position:fixed;inset:0;background:rgba(15,15,30,.95);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .3s ease-in-out}.rotate-message-content{text-align:center;padding:40px 30px;max-width:90%;animation:pulse 2s ease-in-out infinite}.rotate-icon{font-size:80px;margin-bottom:20px;animation:rotate 2s ease-in-out infinite;display:inline-block;transform-origin:center}.rotate-text{font-size:24px;font-weight:700;color:#fff;margin-bottom:12px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 2px 8px rgba(102,126,234,.3)}.rotate-subtext{font-size:16px;color:#fffc;line-height:1.5;margin-bottom:30px}.rotate-buttons{display:flex;flex-direction:column;gap:12px;margin-top:20px;width:100%;max-width:280px;margin-left:auto;margin-right:auto}.rotate-button{padding:14px 24px;font-size:16px;font-weight:600;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-display:swap;text-rendering:optimizeLegibility;box-shadow:0 4px 12px #0003}.rotate-button-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.rotate-button-primary:hover{transform:translateY(-2px);box-shadow:0 6px 16px #667eea66}.rotate-button-primary:active{transform:translateY(0)}.rotate-button-secondary{background:rgba(255,255,255,.1);color:#fff;border:2px solid rgba(255,255,255,.3);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.rotate-button-secondary:hover{background:rgba(255,255,255,.15);border-color:#ffffff80;transform:translateY(-2px)}.rotate-button-secondary:active{transform:translateY(0)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}@keyframes rotate{0%{transform:rotate(0)}25%{transform:rotate(90deg)}50%{transform:rotate(90deg)}75%{transform:rotate(90deg)}to{transform:rotate(0)}}.orientation-toggle-button{position:fixed;top:75px;right:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:8px 12px;background:rgba(102,126,234,.15);backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);border:2px solid rgba(102,126,234,.3);border-radius:12px;cursor:pointer;transition:all .3s ease;z-index:50;box-shadow:0 4px 12px #0003;min-width:60px}.orientation-toggle-button:hover{background:rgba(102,126,234,.25);border-color:#667eea80;transform:translateY(-2px);box-shadow:0 6px 16px #667eea4d}.orientation-toggle-button:active{transform:translateY(0)}.orientation-icon{font-size:20px;line-height:1}.orientation-text{font-size:11px;font-weight:600;color:#fff;text-align:center;white-space:nowrap}@media (min-width: 769px){.orientation-toggle-button,.rotate-message{display:none}}@media (max-width: 768px) and (orientation: portrait){.orientation-toggle-button{top:75px;right:10px}}@media (max-width: 768px) and (orientation: landscape){.orientation-toggle-button{top:75px;right:10px}}:root{--font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;--font-mono: "SF Mono", "Monaco", "Inconsolata", "Fira Code", "Droid Sans Mono", "Courier New", monospace}*{margin:0;padding:0;box-sizing:border-box}:root{--bg-primary: #0f0f1e;--bg-secondary: #1a1a2e;--bg-tertiary: #16213e;--bg-card: rgba(26, 26, 46, .8);--bg-glass: rgba(255, 255, 255, .05);--accent-primary: #667eea;--accent-secondary: #764ba2;--accent-tertiary: #f093fb;--accent-success: #4ecdc4;--accent-warning: #ffd93d;--accent-danger: #ff6b6b;--text-primary: #ffffff;--text-secondary: rgba(255, 255, 255, .8);--text-tertiary: rgba(255, 255, 255, .6);--border-color: rgba(255, 255, 255, .1);--border-hover: rgba(102, 126, 234, .5);--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(102, 126, 234, .4);--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-success: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);--gradient-glow: linear-gradient(135deg, rgba(102, 126, 234, .3) 0%, rgba(118, 75, 162, .3) 100%)}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-feature-settings:"kern" 1;font-kerning:normal;font-display:swap;background:var(--bg-primary);background-image:radial-gradient(at 0% 0%,rgba(102,126,234,.1) 0px,transparent 50%),radial-gradient(at 100% 100%,rgba(118,75,162,.1) 0px,transparent 50%);color:var(--text-primary);overflow:hidden}#root{width:100vw;height:100vh;overflow:hidden;position:relative}.app-container{display:flex;flex-direction:column;height:100vh;width:100vw;position:relative;overflow:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}::-webkit-scrollbar-thumb{background:var(--gradient-primary);border-radius:4px;transition:background .3s}::-webkit-scrollbar-thumb:hover{background:var(--accent-secondary)}.error-boundary{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:24px;padding:40px;background:var(--bg-primary)}.error-boundary h2{color:var(--accent-danger);font-size:2rem;font-weight:700;text-shadow:0 2px 8px rgba(255,107,107,.3)}.error-boundary button{padding:14px 28px;background:var(--gradient-success);color:var(--text-primary);border:none;border-radius:12px;cursor:pointer;font-size:1rem;font-weight:600;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:var(--shadow-md);position:relative;overflow:hidden}.error-boundary button:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.2);transform:translate(-50%,-50%);transition:width .6s,height .6s}.error-boundary button:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.error-boundary button:hover:before{width:300px;height:300px}.error-boundary button:active{transform:translateY(0)}
